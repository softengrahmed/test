provider \"google\" {\n  project = var.project_id\n  region  = var.region\n}\n\nmodule \"vpc\" {\n  source  = \"terraform-google-modules/network/google\"\n  version = \"~> 2.0\"\n\n  project_id   = var.project_id\n  network_name = \"my-vpc\"\n  subnets      = var.subnets\n}\n\nmodule \"cloud_router\" {\n  source  = \"terraform-google-modules/cloud-router/google\"\n  version = \"~> 1.0\"\n\n  name       = \"my-cloud-router\"\n  network    = module.vpc.network.self_link\n  region     = var.region\n  project_id = var.project_id\n}\n\nmodule \"vpn_gateway\" {\n  source  = \"terraform-google-modules/vpn/google\"\n  version = \"~> 1.0\"\n\n  name       = \"my-vpn-gateway\"\n  network    = module.vpc.network.self_link\n  region     = var.region\n  project_id = var.project_id\n}\n\nmodule \"cloud_nat\" {\n  source  = \"terraform-google-modules/cloud-nat/google\"\n  version = \"~> 1.0\"\n\n  name       = \"my-cloud-nat\"\n  router     = module.cloud_router.name\n  region     = var.region\n  project_id = var.project_id\n}\n\nmodule \"load_balancer\" {\n  source  = \"terraform-google-modules/load-balancer/google\"\n  version = \"~> 1.0\"\n\n  name       = \"my-load-balancer\"\n  region     = var.region\n  project_id = var.project_id\n}\n\nmodule \"instance_groups\" {\n  source  = \"terraform-google-modules/instance-group/google\"\n  version = \"~> 1.0\"\n\n  name       = \"my-instance-group\"\n  network    = module.vpc.network.self_link\n  region     = var.region\n  project_id = var.project_id\n}\n\nmodule \"cloud_storage\" {\n  source  = \"terraform-google-modules/cloud-storage/google\"\n  version = \"~> 1.0\"\n\n  name       = \"my-cloud-storage\"\n  project_id = var.project_id\n}\n\nmodule \"cloud_sql\" {\n  source  = \"terraform-google-modules/cloud-sql/google\"\n  version = \"~> 1.0\"\n\n  name       = \"my-cloud-sql\"\n  region     = var.region\n  project_id = var.project_id\n}\n\nmodule \"cloud_pubsub\" {\n  source  = \"terraform-google-modules/pubsub/google\"\n  version = \"~> 1.0\"\n\n  name       = \"my-cloud-pubsub\"\n  project_id = var.project_id\n}\n\nmodule \"cloud_functions\" {\n  source  = \"terraform-google-modules/cloud-functions/google\"\n  version = \"~> 1.0\"\n\n  name       = \"my-cloud-functions\"\n  project_id = var.project_id\n}\n\nmodule \"cloud_run\" {\n  source  = \"terraform-google-modules/cloud-run/google\"\n  version = \"~> 1.0\"\n\n  name       = \"my-cloud-run\"\n  project_id = var.project_id\n}\n\nmodule \"cloud_iam\" {\n  source  = \"terraform-google-modules/iam/google\"\n  version = \"~> 1.0\"\n\n  project_id = var.project_id\n  roles      = var.roles\n}\n